<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZainAI - Super Smart AI Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-cyan: #00d9ff;
    --primary-dark: #0099cc;
    --bg-dark: #0a1628;
    --bg-darker: #070f1a;
    --bg-light: #1a2942;
    --text-primary: #ffffff;
    --text-secondary: #b0c4de;
    --text-muted: #6b7c93;
    --border-color: rgba(0, 217, 255, 0.2);
    --shadow-color: rgba(0, 217, 255, 0.3);
    --success: #00ff88;
    --danger: #ff4444;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background: linear-gradient(135deg, var(--bg-darker) 0%, var(--bg-dark) 50%, var(--bg-light) 100%);
    color: var(--text-primary);
    height: 100vh;
    overflow: hidden;
    -webkit-font-smoothing: antialiased;
}

/* Container */
.container {
    display: flex;
    flex-direction: column;
    height: 100vh;
    max-width: 100%;
    margin: 0 auto;
}

/* Header */
.header {
    background: linear-gradient(135deg, var(#00D9FF) 0%, var(#00D9FF) 100%);
    padding: 16px 24px;
    box-shadow: 0 4px 20px var(#00D9FF);
    position: relative;
    z-index: 100;
    margin-top: 80px;
}

.header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 1400px;
    margin: 0 auto;
}

.logo {
    display: flex;
    align-items: center;
    gap: 12px;
}

.logo-icon {
    width: 40px;
    height: 40px;
    background: var(--text-primary);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    color: var(--primary-cyan);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.logo-text {
    font-size: 24px;
    font-weight: 700;
    color: var(--text-primary);
    letter-spacing: -0.5px;
}

.beta-badge {
    background: rgba(255, 255, 255, 0.2);
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
    color: var(--text-primary);
    letter-spacing: 0.5px;
}

.header-actions {
    display: flex;
    gap: 8px;
}

.btn-icon {
    background: rgba(255, 255, 255, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-primary);
    width: 40px;
    height: 40px;
    border-radius: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.btn-icon:hover {
    background: rgba(255, 255, 255, 0.25);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.btn-icon:active {
    transform: translateY(0);
}

/* Chat Container */
.chat-container {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 24px;
    display: flex;
    flex-direction: column;
    scroll-behavior: smooth;
    max-width: 1400px;
    margin: 0 auto;
    width: 100%;
}

.chat-container::-webkit-scrollbar {
    width: 8px;
}

.chat-container::-webkit-scrollbar-track {
    background: rgba(0, 217, 255, 0.05);
    border-radius: 4px;
}

.chat-container::-webkit-scrollbar-thumb {
    background: var(--primary-cyan);
    border-radius: 4px;
}

.chat-container::-webkit-scrollbar-thumb:hover {
    background: var(--primary-dark);
}

/* Welcome Screen */
.welcome-screen {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 20px;
    gap: 40px;
}

.welcome-hero {
    text-align: center;
    max-width: 700px;
}

.hero-icon {
    font-size: 80px;
    background: linear-gradient(135deg, var(--primary-cyan) 0%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 20px;
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.hero-title {
    font-size: 32px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 12px;
    letter-spacing: -0.5px;
}

.hero-subtitle {
    font-size: 16px;
    color: var(--text-secondary);
    line-height: 1.6;
}

.features-section {
    width: 100%;
    max-width: 900px;
}

.section-title {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 20px;
    text-align: center;
}

.feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 16px;
}

.feature-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 24px 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
}

.feature-card:hover {
    background: rgba(0, 217, 255, 0.08);
    border-color: var(--primary-cyan);
    transform: translateY(-4px);
    box-shadow: 0 8px 24px var(--shadow-color);
}

.feature-icon {
    font-size: 32px;
    color: var(--primary-cyan);
    margin-bottom: 12px;
}

.feature-title {
    font-size: 15px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 6px;
}

.feature-desc {
    font-size: 13px;
    color: var(--text-muted);
    line-height: 1.4;
}

/* Messages */
.message {
    display: flex;
    gap: 12px;
    margin-bottom: 20px;
    animation: fadeInUp 0.3s ease;
    max-width: 100%;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(15px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.message.user {
    flex-direction: row-reverse;
}

.avatar {
    width: 38px;
    height: 38px;
    border-radius: 50%;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.avatar.user-avatar {
    background: linear-gradient(135deg, var(--primary-cyan) 0%, var(--primary-dark) 100%);
    color: var(--text-primary);
}

.avatar.ai-avatar {
    background: linear-gradient(135deg, #8b5cf6 0%, var(--primary-cyan) 100%);
    color: var(--text-primary);
}

.message-content {
    flex: 1;
    max-width: 75%;
}

.message-bubble {
    padding: 14px 18px;
    border-radius: 18px;
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.6;
    font-size: 15px;
}

.message.user .message-bubble {
    background: linear-gradient(135deg, var(--primary-cyan) 0%, var(--primary-dark) 100%);
    color: var(--text-primary);
    border-bottom-right-radius: 4px;
}

.message.ai .message-bubble {
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    border-bottom-left-radius: 4px;
}

.message-time {
    font-size: 11px;
    color: var(--text-muted);
    margin-top: 6px;
    padding-left: 4px;
}

/* Typing Indicator */
.typing-indicator {
    display: flex;
    gap: 5px;
    padding: 12px;
}

.typing-dot {
    width: 8px;
    height: 8px;
    background: var(--primary-cyan);
    border-radius: 50%;
    animation: typing 1.4s infinite ease-in-out;
}

.typing-dot:nth-child(2) {
    animation-delay: 0.2s;
}

.typing-dot:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes typing {
    0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.7;
    }
    30% {
        transform: translateY(-10px);
        opacity: 1;
    }
}

/* Input Area */
.input-area {
    padding: 20px 24px;
    background: rgba(0, 0, 0, 0.3);
    border-top: 1px solid var(--border-color);
    backdrop-filter: blur(20px);
}

.input-container {
    display: flex;
    gap: 12px;
    align-items: flex-end;
    max-width: 1400px;
    margin: 0 auto;
}

.attach-btn {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    color: var(--text-secondary);
    width: 44px;
    height: 44px;
    border-radius: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.attach-btn:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--primary-cyan);
    border-color: var(--primary-cyan);
}

.input-wrapper {
    flex: 1;
    position: relative;
}

#userInput {
    width: 100%;
    padding: 12px 60px 12px 18px;
    border-radius: 16px;
    border: 2px solid var(--border-color);
    background: rgba(255, 255, 255, 0.04);
    color: var(--text-primary);
    font-size: 15px;
    font-family: inherit;
    resize: none;
    max-height: 150px;
    overflow-y: auto;
    transition: all 0.3s ease;
    line-height: 1.5;
}

#userInput:focus {
    outline: none;
    border-color: var(--primary-cyan);
    background: rgba(255, 255, 255, 0.06);
    box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
}

#userInput::placeholder {
    color: var(--text-muted);
}

#userInput::-webkit-scrollbar {
    width: 6px;
}

#userInput::-webkit-scrollbar-thumb {
    background: var(--primary-cyan);
    border-radius: 3px;
}

.char-counter {
    position: absolute;
    right: 14px;
    bottom: 10px;
    font-size: 11px;
    color: var(--text-muted);
    pointer-events: none;
}

#sendBtn {
    background: linear-gradient(135deg, var(--primary-cyan) 0%, var(--primary-dark) 100%);
    border: none;
    color: var(--text-primary);
    width: 44px;
    height: 44px;
    border-radius: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 217, 255, 0.3);
    flex-shrink: 0;
}

#sendBtn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 217, 255, 0.5);
}

#sendBtn:active:not(:disabled) {
    transform: translateY(0);
}

#sendBtn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    box-shadow: none;
}

/* Modal */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.modal.active {
    display: flex;
}

.modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(8px);
}

.modal-content {
    background: linear-gradient(135deg, var(--bg-light) 0%, var(--bg-dark) 100%);
    border: 2px solid var(--primary-cyan);
    border-radius: 24px;
    max-width: 550px;
    width: 100%;
    max-height: 85vh;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0, 217, 255, 0.4);
    position: relative;
    z-index: 1001;
    display: flex;
    flex-direction: column;
    animation: modalSlideIn 0.3s ease;
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(-30px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24px 28px;
    border-bottom: 1px solid var(--border-color);
}

.modal-title {
    font-size: 22px;
    font-weight: 700;
    color: var(--primary-cyan);
    display: flex;
    align-items: center;
    gap: 10px;
}

.close-btn {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    color: var(--text-secondary);
    width: 36px;
    height: 36px;
    border-radius: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    transition: all 0.3s ease;
}

.close-btn:hover {
    background: var(--danger);
    color: var(--text-primary);
    border-color: var(--danger);
}

.modal-body {
    padding: 28px;
    overflow-y: auto;
    flex: 1;
}

.modal-body::-webkit-scrollbar {
    width: 6px;
}

.modal-body::-webkit-scrollbar-thumb {
    background: var(--primary-cyan);
    border-radius: 3px;
}

.modal-footer {
    padding: 20px 28px;
    border-top: 1px solid var(--border-color);
    display: flex;
    gap: 12px;
    justify-content: flex-end;
}

/* Settings */
.settings-group {
    margin-bottom: 28px;
}

.settings-label {
    color: var(--text-primary);
    font-weight: 600;
    font-size: 14px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.settings-label i {
    color: var(--primary-cyan);
}

.input-with-icon {
    position: relative;
}

.settings-input,
.settings-select {
    width: 100%;
    padding: 12px 16px;
    border-radius: 12px;
    border: 2px solid var(--border-color);
    background: rgba(255, 255, 255, 0.04);
    color: var(--text-primary);
    font-size: 14px;
    font-family: inherit;
    transition: all 0.3s ease;
}

.settings-input:focus,
.settings-select:focus {
    outline: none;
    border-color: var(--primary-cyan);
    background: rgba(255, 255, 255, 0.06);
}

.toggle-password {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 16px;
    padding: 4px;
}

.toggle-password:hover {
    color: var(--primary-cyan);
}

.settings-hint {
    display: block;
    margin-top: 8px;
    font-size: 12px;
    color: var(--text-muted);
}

.settings-hint a {
    color: var(--primary-cyan);
    text-decoration: none;
}

.settings-hint a:hover {
    text-decoration: underline;
}

.settings-slider {
    width: 100%;
    height: 6px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    outline: none;
    -webkit-appearance: none;
}

.settings-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--primary-cyan);
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 217, 255, 0.5);
}

.settings-slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--primary-cyan);
    cursor: pointer;
    border: none;
}

.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 8px;
    font-size: 11px;
    color: var(--text-muted);
}

/* Buttons */
.btn-primary,
.btn-secondary {
    padding: 12px 24px;
    border-radius: 12px;
    border: none;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary-cyan) 0%, var(--primary-dark) 100%);
    color: var(--text-primary);
    box-shadow: 0 4px 12px rgba(0, 217, 255, 0.3);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 217, 255, 0.5);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    color: var(--text-secondary);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-primary);
}

/* Info Modal */
.info-section {
    text-align: center;
    padding: 20px 0;
    border-bottom: 1px solid var(--border-color);
    margin-bottom: 24px;
}

.info-logo {
    font-size: 60px;
    color: var(--primary-cyan);
    margin-bottom: 16px;
}

.info-section h3 {
    font-size: 24px;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.version {
    color: var(--text-muted);
    font-size: 14px;
}

.info-item {
    display: flex;
    gap: 16px;
    padding: 20px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.info-item:last-child {
    border-bottom: none;
}

.info-item i {
    font-size: 24px;
    color: var(--primary-cyan);
    margin-top: 4px;
}

.info-item strong {
    color: var(--primary-cyan);
    display: block;
    margin-bottom: 6px;
    font-size: 14px;
}

.info-item p {
    color: var(--text-secondary);
    font-size: 14px;
    line-height: 1.5;
}

.feature-list {
    margin-top: 8px;
    padding-left: 20px;
}

.feature-list li {
    color: var(--text-secondary);
    font-size: 14px;
    margin-bottom: 6px;
}

/* Responsive */
@media (max-width: 768px) {
    .header {
        padding: 14px 16px;
    }

    .logo-text {
        font-size: 20px;
    }

    .logo-icon {
        width: 36px;
        height: 36px;
        font-size: 18px;
    }

    .btn-icon {
        width: 36px;
        height: 36px;
        font-size: 14px;
    }

    .chat-container {
        padding: 16px 12px;
    }

    .hero-title {
        font-size: 26px;
    }

    .hero-subtitle {
        font-size: 14px;
    }

    .feature-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }

    .feature-card {
        padding: 20px 12px;
    }

    .message-content {
        max-width: 82%;
    }

    .input-area {
        padding: 16px 12px;
    }

    #userInput {
        font-size: 14px;
        padding: 10px 50px 10px 14px;
    }

    .attach-btn,
    #sendBtn {
        width: 40px;
        height: 40px;
    }

    .modal-content {
        border-radius: 20px;
    }

    .modal-header,
    .modal-body,
    .modal-footer {
        padding: 20px;
    }
}

@media (max-width: 480px) {
    .feature-grid {
        grid-template-columns: 1fr;
    }
    
    .header-actions {
        gap: 6px;
    }
    
    .btn-icon {
        width: 34px;
        height: 34px;
    }
}
  
</style>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">

        </header>

        <!-- Chat Container -->
        <div class="chat-container" id="chatContainer">
            <!-- Welcome Screen -->
            <div class="welcome-screen" id="welcomeScreen">
                <div class="welcome-hero">
                    <div class="hero-icon">
                        <i class="fa-solid fa-robot"></i>
                    </div>
                    <h1 class="hero-title">Selamat Datang di ZainAI</h1>
                    <p class="hero-subtitle">Asisten AI Cerdas Bertenaga Groq - Siap Membantu Anda</p>
                </div>

                <div class="features-section">
                    <h3 class="section-title">Apa yang bisa saya bantu?</h3>
                    <div class="feature-grid">
                        <div class="feature-card" onclick="sendPrompt('Jelaskan tentang artificial intelligence dan machine learning')">
                            <i class="fa-solid fa-lightbulb feature-icon"></i>
                            <h4 class="feature-title">Pengetahuan</h4>
                            <p class="feature-desc">Pertanyaan umum & edukasi</p>
                        </div>
                        <div class="feature-card" onclick="sendPrompt('Buatkan contoh kode Python untuk web scraping')">
                            <i class="fa-solid fa-code feature-icon"></i>
                            <h4 class="feature-title">Pemrograman</h4>
                            <p class="feature-desc">Coding & debugging</p>
                        </div>
                        <div class="feature-card" onclick="sendPrompt('Buatkan cerita pendek tentang petualangan di luar angkasa')">
                            <i class="fa-solid fa-book feature-icon"></i>
                            <h4 class="feature-title">Kreativitas</h4>
                            <p class="feature-desc">Menulis & brainstorming</p>
                        </div>
                        <div class="feature-card" onclick="sendPrompt('Analisis tren teknologi AI di tahun 2024')">
                            <i class="fa-solid fa-chart-line feature-icon"></i>
                            <h4 class="feature-title">Analisis</h4>
                            <p class="feature-desc">Data & insights</p>
                        </div>
                        <div class="feature-card" onclick="sendPrompt('Berikan tips produktivitas untuk bekerja dari rumah')">
                            <i class="fa-solid fa-briefcase feature-icon"></i>
                            <h4 class="feature-title">Produktivitas</h4>
                            <p class="feature-desc">Tips & strategi</p>
                        </div>
                        <div class="feature-card" onclick="sendPrompt('Jelaskan konsep blockchain dengan bahasa sederhana')">
                            <i class="fa-solid fa-graduation-cap feature-icon"></i>
                            <h4 class="feature-title">Pembelajaran</h4>
                            <p class="feature-desc">Tutorial & panduan</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Input Area -->
        <div class="input-area">
            <div class="input-container">
                                    
                <div class="input-wrapper">
                    <textarea 
                        id="userInput" 
                        placeholder="Ketik pesan Anda di sini..." 
                        rows="1"
                        maxlength="2000"
                        onkeydown="handleKeyPress(event)"
                        oninput="autoResize(this)"
                    ></textarea>
                    <div class="char-counter" id="charCounter">0/2000</div>
                </div>
                <button id="sendBtn" onclick="sendMessage()" disabled title="Send Message">
                    <i class="fa-solid fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-overlay" onclick="closeSettings()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fa-solid fa-gear"></i>
                    Pengaturan
                </h2>
                <button class="close-btn" onclick="closeSettings()">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="settings-group">
                    <label class="settings-label">
                        <i class="fa-solid fa-key"></i>
                        API Key Groq
                    </label>
                    <div class="input-with-icon">
                        <input 
                            type="password" 
                            id="apiKeyInput" 
                            class="settings-input" 
                            placeholder="Masukkan API Key Anda"
                        >
                        <button class="toggle-password" onclick="togglePassword('apiKeyInput')">
                            <i class="fa-solid fa-eye"></i>
                        </button>
                    </div>
                    <small class="settings-hint">Dapatkan API key di <a href="https://console.groq.com" target="_blank">console.groq.com</a></small>
                </div>

                <div class="settings-group">
                    <label class="settings-label">
                        <i class="fa-solid fa-microchip"></i>
                        Model AI
                    </label>
                    <select id="modelSelect" class="settings-select">
                        <option value="llama-3.3-70b-versatile">Llama 3.3 70B Versatile (Recommended)</option>
                        <option value="llama-3.1-70b-versatile">Llama 3.1 70B Versatile</option>
                        <option value="mixtral-8x7b-32768">Mixtral 8x7B</option>
                        <option value="gemma2-9b-it">Gemma 2 9B IT</option>
                    </select>
                </div>

                <div class="settings-group">
                    <label class="settings-label">
                        <i class="fa-solid fa-temperature-half"></i>
                        Temperature (Kreativitas): <span id="tempValue">0.7</span>
                    </label>
                    <input 
                        type="range" 
                        id="tempSlider" 
                        class="settings-slider" 
                        min="0" 
                        max="2" 
                        step="0.1" 
                        value="0.7"
                        oninput="updateTempValue(this.value)"
                    >
                    <div class="slider-labels">
                        <span>Presisi</span>
                        <span>Seimbang</span>
                        <span>Kreatif</span>
                    </div>
                </div>

                <div class="settings-group">
                    <label class="settings-label">
                        <i class="fa-solid fa-message"></i>
                        Max Tokens
                    </label>
                    <select id="maxTokensSelect" class="settings-select">
                        <option value="1024">1024 (Cepat)</option>
                        <option value="2048" selected>2048 (Standard)</option>
                        <option value="4096">4096 (Panjang)</option>
                    </select>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeSettings()">
                    <i class="fa-solid fa-xmark"></i>
                    Batal
                </button>
                <button class="btn-primary" onclick="saveSettings()">
                    <i class="fa-solid fa-floppy-disk"></i>
                    Simpan Pengaturan
                </button>
            </div>
        </div>
    </div>

    <!-- Info Modal -->
    <div class="modal" id="infoModal">
        <div class="modal-overlay" onclick="closeInfo()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fa-solid fa-circle-info"></i>
                    Tentang ZainAI
                </h2>
                <button class="close-btn" onclick="closeInfo()">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="info-section">
                    <div class="info-logo">
                        <i class="fa-solid fa-robot"></i>
                    </div>
                    <h3>ZainAI Assistant</h3>
                    <p class="version">Version 1.0.0 Beta</p>
                </div>

                <div class="info-item">
                    <i class="fa-solid fa-user-tie"></i>
                    <div>
                        <strong>Developer</strong>
                        <p>Zain Suryo Negoro</p>
                    </div>
                </div>

                <div class="info-item">
                    <i class="fa-solid fa-bolt"></i>
                    <div>
                        <strong>Powered By</strong>
                        <p>Groq API - Ultra Fast AI Inference</p>
                    </div>
                </div>

                <div class="info-item">
                    <i class="fa-solid fa-star"></i>
                    <div>
                        <strong>Fitur Utama</strong>
                        <ul class="feature-list">
                            <li>Respons AI super cepat</li>
                            <li>Multiple model AI pilihan</li>
                            <li>Antarmuka responsif mobile</li>
                            <li>Kontrol temperature & token</li>
                            <li>Chat history management</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
    // Global variables
let chatHistory = [];
let apiKey = localStorage.getItem('groqApiKey') || '';
let model = localStorage.getItem('groqModel') || 'llama-3.3-70b-versatile';
let temperature = parseFloat(localStorage.getItem('groqTemp')) || 0.7;
let maxTokens = parseInt(localStorage.getItem('groqMaxTokens')) || 2048;

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    loadSettings();
    updateCharCounter();
    focusInput();
});

// Load saved settings
function loadSettings() {
    if (apiKey) {
        document.getElementById('apiKeyInput').value = apiKey;
    }
    document.getElementById('modelSelect').value = model;
    document.getElementById('tempSlider').value = temperature;
    document.getElementById('tempValue').textContent = temperature;
    document.getElementById('maxTokensSelect').value = maxTokens;
}

// Update character counter
function updateCharCounter() {
    const input = document.getElementById('userInput');
    const counter = document.getElementById('charCounter');
    const length = input.value.length;
    counter.textContent = `${length}/2000`;
    
    if (length > 1800) {
        counter.style.color = '#ff4444';
    } else if (length > 1500) {
        counter.style.color = '#ffa500';
    } else {
        counter.style.color = '#6b7c93';
    }
}

// Auto resize textarea
function autoResize(element) {
    element.style.height = 'auto';
    element.style.height = Math.min(element.scrollHeight, 150) + 'px';
    updateCharCounter();
    updateSendButton();
}

// Update send button state
function updateSendButton() {
    const input = document.getElementById('userInput');
    const btn = document.getElementById('sendBtn');
    btn.disabled = !input.value.trim();
}

// Focus on input
function focusInput() {
    document.getElementById('userInput').focus();
}

// Handle keyboard shortcuts
function handleKeyPress(event) {
    if (event.key === 'Enter' && !event.shiftKey) {
        event.preventDefault();
        sendMessage();
    }
}

// Listen to input changes
document.getElementById('userInput').addEventListener('input', () => {
    updateSendButton();
    autoResize(document.getElementById('userInput'));
});

// Send prompt from feature cards
function sendPrompt(prompt) {
    document.getElementById('userInput').value = prompt;
    updateSendButton();
    sendMessage();
}

// Main send message function
async function sendMessage() {
    const input = document.getElementById('userInput');
    const message = input.value.trim();
    
    if (!message) return;
    
    // Check API key
    if (!apiKey) {
        showNotification('Silakan masukkan API Key di Settings terlebih dahulu!', 'error');
        openSettings();
        return;
    }

    // Hide welcome screen
    const welcomeScreen = document.getElementById('welcomeScreen');
    if (welcomeScreen) {
        welcomeScreen.style.display = 'none';
    }

    // Add user message
    addMessage(message, 'user');
    
    // Clear input
    input.value = '';
    input.style.height = 'auto';
    updateCharCounter();
    updateSendButton();

    // Add typing indicator
    const typingId = addTypingIndicator();

    try {
        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${apiKey}`
            },
            body: JSON.stringify({
                model: model,
                messages: [
                    {
                        role: 'system',
                        content: 'Kamu adalah ZainAI, asisten AI yang sangat pintar, membantu, dan profesional. Kamu dibuat oleh Zain Suryo Negoro. Berikan jawaban yang detail, informatif, dan ramah dalam Bahasa Indonesia. Gunakan format yang rapi dan terstruktur untuk penjelasan panjang.'
                    },
                    ...chatHistory,
                    {
                        role: 'user',
                        content: message
                    }
                ],
                temperature: temperature,
                max_tokens: maxTokens,
                top_p: 1,
                stream: false
            })
        });

        removeTypingIndicator(typingId);

        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error?.message || `API Error: ${response.status}`);
        }

        const data = await response.json();
        const aiMessage = data.choices[0].message.content;

        // Add AI response
        addMessage(aiMessage, 'ai');

        // Update chat history
        chatHistory.push(
            { role: 'user', content: message },
            { role: 'assistant', content: aiMessage }
        );

        // Keep only last 20 messages (10 exchanges)
        if (chatHistory.length > 20) {
            chatHistory = chatHistory.slice(-20);
        }

    } catch (error) {
        removeTypingIndicator(typingId);
        console.error('Error:', error);
        addMessage(`Maaf, terjadi kesalahan: ${error.message}. Silakan cek API Key atau koneksi internet Anda.`, 'ai');
        showNotification('Gagal mengirim pesan. Silakan coba lagi.', 'error');
    }

    focusInput();
}

// Add message to chat
function addMessage(text, type) {
    const container = document.getElementById('chatContainer');
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${type}`;
    
    // Create avatar
    const avatar = document.createElement('div');
    avatar.className = `avatar ${type}-avatar`;
    const icon = document.createElement('i');
    icon.className = type === 'user' ? 'fa-solid fa-user' : 'fa-solid fa-robot';
    avatar.appendChild(icon);
    
    // Create message content
    const contentDiv = document.createElement('div');
    contentDiv.className = 'message-content';
    
    const bubble = document.createElement('div');
    bubble.className = 'message-bubble';
    
    // Format text with code blocks
    bubble.innerHTML = formatMessage(text);
    
    contentDiv.appendChild(bubble);
    
    // Add timestamp
    const time = document.createElement('div');
    time.className = 'message-time';
    time.textContent = getCurrentTime();
    contentDiv.appendChild(time);
    
    // Append elements
    messageDiv.appendChild(avatar);
    messageDiv.appendChild(contentDiv);
    container.appendChild(messageDiv);
    
    // Scroll to bottom
    container.scrollTop = container.scrollHeight;
}

// Format message with basic markdown support
function formatMessage(text) {
    // Escape HTML
    text = text.replace(/</g, '&lt;').replace(/>/g, '&gt;');
    
    // Code blocks
    text = text.replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>');
    
    // Inline code
    text = text.replace(/`([^`]+)`/g, '<code>$1</code>');
    
    // Bold
    text = text.replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>');
    
    // Line breaks
    text = text.replace(/\n/g, '<br>');
    
    return text;
}

// Get current time
function getCurrentTime() {
    const now = new Date();
    const hours = now.getHours().toString().padStart(2, '0');
    const minutes = now.getMinutes().toString().padStart(2, '0');
    return `${hours}:${minutes}`;
}

// Add typing indicator
function addTypingIndicator() {
    const container = document.getElementById('chatContainer');
    const messageDiv = document.createElement('div');
    const id = 'typing-' + Date.now();
    messageDiv.id = id;
    messageDiv.className = 'message ai';
    
    const avatar = document.createElement('div');
    avatar.className = 'avatar ai-avatar';
    const icon = document.createElement('i');
    icon.className = 'fa-solid fa-robot';
    avatar.appendChild(icon);
    
    const contentDiv = document.createElement('div');
    contentDiv.className = 'message-content';
    
    const bubble = document.createElement('div');
    bubble.className = 'message-bubble';
    
    const typing = document.createElement('div');
    typing.className = 'typing-indicator';
    typing.innerHTML = '<div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>';
    
    bubble.appendChild(typing);
    contentDiv.appendChild(bubble);
    messageDiv.appendChild(avatar);
    messageDiv.appendChild(contentDiv);
    container.appendChild(messageDiv);
    
    container.scrollTop = container.scrollHeight;
    
    return id;
}

// Remove typing indicator
function removeTypingIndicator(id) {
    const element = document.getElementById(id);
    if (element) {
        element.remove();
    }
}

// Clear chat
function clearChat() {
    if (confirm('Apakah Anda yakin ingin menghapus semua riwayat chat?')) {
        chatHistory = [];
        const container = document.getElementById('chatContainer');
        container.innerHTML = '';
        
        // Show welcome screen again
        const welcomeScreen = document.createElement('div');
        welcomeScreen.className = 'welcome-screen';
        welcomeScreen.id = 'welcomeScreen';
        welcomeScreen.innerHTML = `
            <div class="welcome-hero">
                <div class="hero-icon">
                    <i class="fa-solid fa-robot"></i>
                </div>
                <h1 class="hero-title">Selamat Datang di ZainAI</h1>
                <p class="hero-subtitle">Asisten AI Cerdas Bertenaga Groq - Siap Membantu Anda</p>
            </div>
            <div class="features-section">
                <h3 class="section-title">Apa yang bisa saya bantu?</h3>
                <div class="feature-grid">
                    <div class="feature-card" onclick="sendPrompt('Jelaskan tentang artificial intelligence dan machine learning')">
                        <i class="fa-solid fa-lightbulb feature-icon"></i>
                        <h4 class="feature-title">Pengetahuan</h4>
                        <p class="feature-desc">Pertanyaan umum & edukasi</p>
                    </div>
                    <div class="feature-card" onclick="sendPrompt('Buatkan contoh kode Python untuk web scraping')">
                        <i class="fa-solid fa-code feature-icon"></i>
                        <h4 class="feature-title">Pemrograman</h4>
                        <p class="feature-desc">Coding & debugging</p>
                    </div>
                    <div class="feature-card" onclick="sendPrompt('Buatkan cerita pendek tentang petualangan di luar angkasa')">
                        <i class="fa-solid fa-book feature-icon"></i>
                        <h4 class="feature-title">Kreativitas</h4>
                        <p class="feature-desc">Menulis & brainstorming</p>
                    </div>
                    <div class="feature-card" onclick="sendPrompt('Analisis tren teknologi AI di tahun 2024')">
                        <i class="fa-solid fa-chart-line feature-icon"></i>
                        <h4 class="feature-title">Analisis</h4>
                        <p class="feature-desc">Data & insights</p>
                    </div>
                    <div class="feature-card" onclick="sendPrompt('Berikan tips produktivitas untuk bekerja dari rumah')">
                        <i class="fa-solid fa-briefcase feature-icon"></i>
                        <h4 class="feature-title">Produktivitas</h4>
                        <p class="feature-desc">Tips & strategi</p>
                    </div>
                    <div class="feature-card" onclick="sendPrompt('Jelaskan konsep blockchain dengan bahasa sederhana')">
                        <i class="fa-solid fa-graduation-cap feature-icon"></i>
                        <h4 class="feature-title">Pembelajaran</h4>
                        <p class="feature-desc">Tutorial & panduan</p>
                    </div>
                </div>
            </div>
        `;
        container.appendChild(welcomeScreen);
        
        showNotification('Chat berhasil dihapus', 'success');
    }
}

// Settings modal functions
function openSettings() {
    document.getElementById('settingsModal').classList.add('active');
}

function closeSettings() {
    document.getElementById('settingsModal').classList.remove('active');
}

function saveSettings() {
    const keyInput = document.getElementById('apiKeyInput').value.trim();
    const selectedModel = document.getElementById('modelSelect').value;
    const temp = parseFloat(document.getElementById('tempSlider').value);
    const tokens = parseInt(document.getElementById('maxTokensSelect').value);
    
    if (!keyInput) {
        showNotification('API Key tidak boleh kosong!', 'error');
        return;
    }
    
    // Validate API key format (basic check)
    if (!keyInput.startsWith('gsk_')) {
        showNotification('Format API Key tidak valid. API Key Groq harus diawali dengan "gsk_"', 'error');
        return;
    }
    
    apiKey = keyInput;
    model = selectedModel;
    temperature = temp;
    maxTokens = tokens;
    
    localStorage.setItem('groqApiKey', apiKey);
    localStorage.setItem('groqModel', model);
    localStorage.setItem('groqTemp', temperature);
    localStorage.setItem('groqMaxTokens', maxTokens);
    
    showNotification('Pengaturan berhasil disimpan!', 'success');
    closeSettings();
}

function updateTempValue(value) {
    document.getElementById('tempValue').textContent = value;
}

function togglePassword(inputId) {
    const input = document.getElementById(inputId);
    const button = event.currentTarget;
    const icon = button.querySelector('i');
    
    if (input.type === 'password') {
        input.type = 'text';
        icon.className = 'fa-solid fa-eye-slash';
    } else {
        input.type = 'password';
        icon.className = 'fa-solid fa-eye';
    }
}

// Info modal functions
function showInfo() {
    document.getElementById('infoModal').classList.add('active');
}

function closeInfo() {
    document.getElementById('infoModal').classList.remove('active');
}

// Show notification
function showNotification(message, type = 'info') {
    // Remove existing notification
    const existing = document.querySelector('.notification');
    if (existing) {
        existing.remove();
    }
    
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.style.cssText = `
        position: fixed;
        top: 80px;
        right: 20px;
        background: ${type === 'error' ? '#ff4444' : type === 'success' ? '#00ff88' : '#00d9ff'};
        color: ${type === 'success' ? '#000' : '#fff'};
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        z-index: 2000;
        animation: slideInRight 0.3s ease;
        font-weight: 600;
        max-width: 300px;
    `;
    
    const icon = type === 'error' ? 'fa-circle-exclamation' : type === 'success' ? 'fa-circle-check' : 'fa-circle-info';
    notification.innerHTML = `<i class="fa-solid ${icon}"></i> ${message}`;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.animation = 'slideOutRight 0.3s ease';
        setTimeout(() => notification.remove(), 300);
    }, 3000);
}

// Add CSS for notification animation
const style = document.createElement('style');
style.textContent = `
    @keyframes slideInRight {
        from {
            transform: translateX(400px);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
    @keyframes slideOutRight {
        from {
            transform: translateX(0);
            opacity: 1;
        }
        to {
            transform: translateX(400px);
            opacity: 0;
        }
    }
    .notification {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    code {
        background: rgba(0, 217, 255, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
        font-family: 'Courier New', monospace;
        font-size: 0.9em;
    }
    pre {
        background: rgba(0, 0, 0, 0.3);
        padding: 12px;
        border-radius: 8px;
        overflow-x: auto;
        margin: 10px 0;
    }
    pre code {
        background: none;
        padding: 0;
    }
`;
document.head.appendChild(style);

// Close modals on escape key
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeSettings();
        closeInfo();
    }
});

// Prevent form submission
document.addEventListener('submit', (e) => {
    e.preventDefault();
});
</script>
</body>
</html>
